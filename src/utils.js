// SSS Contribution Table for Business Employers and Employees (Effective January 2025)
// Based on the provided PDF: 2025-SSS-Contribution-Table-rev.pdf (Page 1)
export const sssContributionTable = [
  { rangeMin: 0, rangeMax: 5249.99, msc: 5000.00, employeeSS: 250.00, employeeMPF: 0.00 },
  { rangeMin: 5250.00, rangeMax: 5749.99, msc: 5500.00, employeeSS: 275.00, employeeMPF: 0.00 },
  { rangeMin: 5750.00, rangeMax: 6249.99, msc: 6000.00, employeeSS: 300.00, employeeMPF: 0.00 },
  { rangeMin: 6250.00, rangeMax: 6749.99, msc: 6500.00, employeeSS: 325.00, employeeMPF: 0.00 },
  { rangeMin: 6750.00, rangeMax: 7249.99, msc: 7000.00, employeeSS: 350.00, employeeMPF: 0.00 },
  { rangeMin: 7250.00, rangeMax: 7749.99, msc: 7500.00, employeeSS: 375.00, employeeMPF: 0.00 },
  { rangeMin: 7750.00, rangeMax: 8249.99, msc: 8000.00, employeeSS: 400.00, employeeMPF: 0.00 },
  { rangeMin: 8250.00, rangeMax: 8749.99, msc: 8500.00, employeeSS: 425.00, employeeMPF: 0.00 },
  { rangeMin: 8750.00, rangeMax: 9249.99, msc: 9000.00, employeeSS: 450.00, employeeMPF: 0.00 },
  { rangeMin: 9250.00, rangeMax: 9749.99, msc: 9500.00, employeeSS: 475.00, employeeMPF: 0.00 },
  { rangeMin: 9750.00, rangeMax: 10249.99, msc: 10000.00, employeeSS: 500.00, employeeMPF: 0.00 },
  { rangeMin: 10250.00, rangeMax: 10749.99, msc: 10500.00, employeeSS: 525.00, employeeMPF: 0.00 },
  { rangeMin: 10750.00, rangeMax: 11249.99, msc: 11000.00, employeeSS: 550.00, employeeMPF: 0.00 },
  { rangeMin: 11250.00, rangeMax: 11749.99, msc: 11500.00, employeeSS: 575.00, employeeMPF: 0.00 },
  { rangeMin: 11750.00, rangeMax: 12249.99, msc: 12000.00, employeeSS: 600.00, employeeMPF: 0.00 },
  { rangeMin: 12250.00, rangeMax: 12749.99, msc: 12500.00, employeeSS: 625.00, employeeMPF: 0.00 },
  { rangeMin: 12750.00, rangeMax: 13249.99, msc: 13000.00, employeeSS: 650.00, employeeMPF: 0.00 },
  { rangeMin: 13250.00, rangeMax: 13749.99, msc: 13500.00, employeeSS: 675.00, employeeMPF: 0.00 },
  { rangeMin: 13750.00, rangeMax: 14249.99, msc: 14000.00, employeeSS: 700.00, employeeMPF: 0.00 },
  { rangeMin: 14250.00, rangeMax: 14749.99, msc: 14500.00, employeeSS: 725.00, employeeMPF: 0.00 },
  { rangeMin: 14750.00, rangeMax: 15249.99, msc: 15000.00, employeeSS: 750.00, employeeMPF: 0.00 },
  { rangeMin: 15250.00, rangeMax: 15749.99, msc: 15500.00, employeeSS: 775.00, employeeMPF: 0.00 },
  { rangeMin: 15750.00, rangeMax: 16249.99, msc: 16000.00, employeeSS: 800.00, employeeMPF: 0.00 },
  { rangeMin: 16250.00, rangeMax: 16749.99, msc: 16500.00, employeeSS: 825.00, employeeMPF: 0.00 },
  { rangeMin: 16750.00, rangeMax: 17249.99, msc: 17000.00, employeeSS: 850.00, employeeMPF: 0.00 },
  { rangeMin: 17250.00, rangeMax: 17749.99, msc: 17500.00, employeeSS: 875.00, employeeMPF: 0.00 },
  { rangeMin: 17750.00, rangeMax: 18249.99, msc: 18000.00, employeeSS: 900.00, employeeMPF: 0.00 },
  { rangeMin: 18250.00, rangeMax: 18749.99, msc: 18500.00, employeeSS: 925.00, employeeMPF: 0.00 },
  { rangeMin: 18750.00, rangeMax: 19249.99, msc: 19000.00, employeeSS: 950.00, employeeMPF: 0.00 },
  { rangeMin: 19250.00, rangeMax: 19749.99, msc: 19500.00, employeeSS: 975.00, employeeMPF: 0.00 },
  { rangeMin: 19750.00, rangeMax: 20249.99, msc: 20000.00, employeeSS: 1000.00, employeeMPF: 0.00 },
  // MPF contributions start from MSC 20,000.00 onwards
  { rangeMin: 20250.00, rangeMax: 20749.99, msc: 20500.00, employeeSS: 1000.00, employeeMPF: 25.00 },
  { rangeMin: 20750.00, rangeMax: 21249.99, msc: 21000.00, employeeSS: 1000.00, employeeMPF: 50.00 },
  { rangeMin: 21250.00, rangeMax: 21749.99, msc: 21500.00, employeeSS: 1000.00, employeeMPF: 75.00 },
  { rangeMin: 21750.00, rangeMax: 22249.99, msc: 22000.00, employeeSS: 1000.00, employeeMPF: 100.00 },
  { rangeMin: 22250.00, rangeMax: 22749.99, msc: 22500.00, employeeSS: 1000.00, employeeMPF: 125.00 },
  { rangeMin: 22750.00, rangeMax: 23249.99, msc: 23000.00, employeeSS: 1000.00, employeeMPF: 150.00 },
  { rangeMin: 23250.00, rangeMax: 23749.99, msc: 23500.00, employeeSS: 1000.00, employeeMPF: 175.00 },
  { rangeMin: 23750.00, rangeMax: 24249.99, msc: 24000.00, employeeSS: 1000.00, employeeMPF: 200.00 },
  { rangeMin: 24250.00, rangeMax: 24749.99, msc: 24500.00, employeeSS: 1000.00, employeeMPF: 225.00 },
  { rangeMin: 24750.00, rangeMax: 25249.99, msc: 25000.00, employeeSS: 1000.00, employeeMPF: 250.00 },
  { rangeMin: 25250.00, rangeMax: 25749.99, msc: 25500.00, employeeSS: 1000.00, employeeMPF: 275.00 },
  { rangeMin: 25750.00, rangeMax: 26249.99, msc: 26000.00, employeeSS: 1000.00, employeeMPF: 300.00 },
  { rangeMin: 26250.00, rangeMax: 26749.99, msc: 26500.00, employeeSS: 1000.00, employeeMPF: 325.00 },
  { rangeMin: 26750.00, rangeMax: 27249.99, msc: 27000.00, employeeSS: 1000.00, employeeMPF: 350.00 },
  { rangeMin: 27250.00, rangeMax: 27749.99, msc: 27500.00, employeeSS: 1000.00, employeeMPF: 375.00 },
  { rangeMin: 27750.00, rangeMax: 28249.99, msc: 28000.00, employeeSS: 1000.00, employeeMPF: 400.00 },
  { rangeMin: 28250.00, rangeMax: 28749.99, msc: 28500.00, employeeSS: 1000.00, employeeMPF: 425.00 },
  { rangeMin: 28750.00, rangeMax: 29249.99, msc: 29000.00, employeeSS: 1000.00, employeeMPF: 450.00 },
  { rangeMin: 29250.00, rangeMax: 29749.99, msc: 29500.00, employeeSS: 1000.00, employeeMPF: 475.00 },
  { rangeMin: 29750.00, rangeMax: 30249.99, msc: 30000.00, employeeSS: 1000.00, employeeMPF: 500.00 },
  { rangeMin: 30250.00, rangeMax: 30749.99, msc: 30500.00, employeeSS: 1000.00, employeeMPF: 525.00 },
  { rangeMin: 30750.00, rangeMax: 31249.99, msc: 31000.00, employeeSS: 1000.00, employeeMPF: 550.00 },
  { rangeMin: 31250.00, rangeMax: 31749.99, msc: 31500.00, employeeSS: 1000.00, employeeMPF: 575.00 },
  { rangeMin: 31750.00, rangeMax: 32249.99, msc: 32000.00, employeeSS: 1000.00, employeeMPF: 600.00 },
  { rangeMin: 32250.00, rangeMax: 32749.99, msc: 32500.00, employeeSS: 1000.00, employeeMPF: 625.00 },
  { rangeMin: 32750.00, rangeMax: 33249.99, msc: 33000.00, employeeSS: 1000.00, employeeMPF: 650.00 },
  { rangeMin: 33250.00, rangeMax: 33749.99, msc: 33500.00, employeeSS: 1000.00, employeeMPF: 675.00 },
  { rangeMin: 33750.00, rangeMax: 34249.99, msc: 34000.00, employeeSS: 1000.00, employeeMPF: 700.00 },
  { rangeMin: 34250.00, rangeMax: 34749.99, msc: 34500.00, employeeSS: 1000.00, employeeMPF: 725.00 },
  { rangeMin: 34750.00, rangeMax: Infinity, msc: 35000.00, employeeSS: 1000.00, employeeMPF: 750.00 }, // "Over 34,750"
];

/**
 * Calculates the SSS contribution based on the provided basic salary.
 * @param {number} salary - The employee's basic monthly salary.
 * @returns {number} The total SSS contribution (Regular SS + MPF).
 */
export const getSssContribution = (salary) => {
  const basicSalary = parseFloat(salary) || 0;
  let ssContribution = 0;
  let mpfContribution = 0;

  // Find the correct row in the SSS contribution table
  const foundRow = sssContributionTable.find(row => {
    // For the last row "Over 34,750", rangeMax is Infinity
    if (row.rangeMax === Infinity) {
      return basicSalary >= row.rangeMin;
    }
    return basicSalary >= row.rangeMin && basicSalary <= row.rangeMax;
  });

  if (foundRow) {
    ssContribution = foundRow.employeeSS;
    mpfContribution = foundRow.employeeMPF;
  } else {
    // If salary is below the lowest range in the table, default to the lowest contribution
    if (basicSalary < sssContributionTable[0].rangeMin) {
      ssContribution = sssContributionTable[0].employeeSS;
      mpfContribution = sssContributionTable[0].employeeMPF;
    }
  }

  return ssContribution + mpfContribution;
};

/**
 * Calculates the PhilHealth contribution (employee's share).
 * @param {number} salary - The employee's basic monthly salary.
 * @returns {number} The employee's PhilHealth contribution.
 */
export const getPhilhealthContribution = (salary) => {
  const rate = 0.05; // 5.0%
  const minSalary = 10000;
  const maxSalary = 100000;
  let premium = 0;

  if (salary < minSalary) {
    premium = minSalary * rate;
  } else if (salary > maxSalary) {
    premium = maxSalary * rate;
  } else {
    premium = salary * rate;
  }
  return premium / 2; // Employee's share is 50%
};

/**
 * Calculates the Pag-IBIG contribution (employee's share).
 * @param {number} salary - The employee's basic monthly salary.
 * @returns {number} The employee's Pag-IBIG contribution.
 */
export const getPagibigContribution = (salary) => {
  let employeeShare = 0;

  if (salary <= 1500) {
    employeeShare = salary * 0.01; // 1% for salary <= 1500
  } else {
    employeeShare = salary * 0.02; // 2% for salary > 1500
  }

  // Cap the employee share at 200 (2% of 10,000 monthly compensation ceiling)
  return Math.min(employeeShare, 200);
};

/**
 * Calculates the CEAP contribution (4% of basic salary).
 * @param {number} salary - The employee's basic monthly salary.
 * @returns {number} The CEAP contribution.
 */
export const getCeapContribution = (salary) => {
  return (parseFloat(salary) || 0) * 0.04; // 4% of basic salary
};